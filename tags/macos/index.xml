<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>MacOS on Amor</title><link>https://amorist.io/tags/macos/</link><description>Recent content in MacOS on Amor</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 09 Sep 2019 18:56:55 +0800</lastBuildDate><atom:link href="https://amorist.io/tags/macos/index.xml" rel="self" type="application/rss+xml"/><item><title>MacOS终端获取IP</title><link>https://amorist.io/posts/macos%E7%BB%88%E7%AB%AF%E8%8E%B7%E5%8F%96ip/</link><pubDate>Mon, 09 Sep 2019 18:56:55 +0800</pubDate><guid>https://amorist.io/posts/macos%E7%BB%88%E7%AB%AF%E8%8E%B7%E5%8F%96ip/</guid><description>可以使用如下命令获取ip地址
ifconfig -a | perl -nle&amp;#39;/(\d+\.\d+\.\d+\.\d+)/ &amp;amp;&amp;amp; print $1&amp;#39; oh my zsh alias配置
alias ips=&amp;#34;ifconfig -a | perl -nle&amp;#39;/(\d+\.\d+\.\d+\.\d+)/ &amp;amp;&amp;amp; print $1&amp;#39;&amp;#34;</description></item><item><title>Electron实现menubar和desktop模式自动切换</title><link>https://amorist.io/posts/electron%E5%AE%9E%E7%8E%B0menubar%E5%92%8Cdesktop%E6%A8%A1%E5%BC%8F%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2/</link><pubDate>Wed, 23 Jan 2019 09:15:20 +0800</pubDate><guid>https://amorist.io/posts/electron%E5%AE%9E%E7%8E%B0menubar%E5%92%8Cdesktop%E6%A8%A1%E5%BC%8F%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2/</guid><description>效果图 实现原理 当拖动mainWindow(desktop mode)到桌面顶部一定距离时，显示或创建menubarWindow(menubar mode)，隐藏mainWindow(desktop mode)。
当拖动menubarWindow(menubar mode)到离开桌面顶部一定距离，隐藏menubarWindow(menubar mode)，显示或创建mainWindow(desktop mode)。
主要步骤 监听窗口移动事件 实时获取当前窗口位置，如果position距离顶部小于一定数值（这里我设置了100），隐藏当前移动的窗口，展示目标窗口
mainWindow.on(&amp;#39;move&amp;#39;, () =&amp;gt; { const [x, y] = mainWindow.getPosition() if (y &amp;lt;= 100) { mainWindow.hide() showMenubarWindow() } }) 展示menubarWindow时，获取tray的位置，据此计算出menubarWindow应该展示的位置，并设置menubarWindow的位置
webContents.on(&amp;#39;dom-ready&amp;#39;, () =&amp;gt; { const position = getWindowPosition() setWindowPosition(menubarWindow, position.x, position.y) webContents.insertCSS( fs.readFileSync( path.join(__dirname, &amp;#39;../public/static/css/arrow.css&amp;#39;), &amp;#39;utf8&amp;#39;, ), ) menubarWindow.show() menubarWindow.focus() }) function getWindowPosition() { const windowBounds = menubarWindow.getBounds() const trayBounds = tray.getBounds() // Center window horizontally below the tray icon const x = Math.</description></item></channel></rss>